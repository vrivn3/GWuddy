<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Gym Wuddy - Questionnaire</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="questionnaire.css" />


</head>

<body>
    <div class="phone-frame">
        <header class="app-header">
            <h1>My Gym Wuddy</h1>

        </header>

        <main id="appContent">
            <section class="screen">
                <h1>Tell Us About Yourself</h1> 

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div class="questionnaire">
                    <!-- Question 1 -->
                    <div class="question active" data-step="1">
                        <h2>What days do you exercise?</h2>
                        <h4>Select all that apply</h4> 
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="days" value="all"> All Days
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="monday"> Monday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="tuesday"> Tuesday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="wednesday"> Wednesday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="thursday"> Thursday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="friday"> Friday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="saturday"> Saturday
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="days" value="sunday"> Sunday
                            </label>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="question" data-step="2">
                        <h2>What times of day do you exercise?</h2>
                        <h4>Select all that apply</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="times" value="12am-6am"> 12am-6am
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="times" value="6am-12pm"> 6am-12pm
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="times" value="12pm-6pm"> 12pm-6pm
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="times" value="6pm-12am"> 6pm-12am
                            </label>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="question" data-step="3">
                        <h2>How do you like to exercise?</h2>
                        <h4>Select all that apply</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="types" value="cardio"> Cardio
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="weightlifting"> Weightlifting
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="swimming"> Swimming
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="yoga"> Yoga
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="hit"> HIT
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="pilates"> Pilates
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="crossfit"> CrossFit
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="types" value="other"> Other
                            </label>
                        </div>
                    </div>

                    <!-- Question 4 -->
                    <div class="question" data-step="4">
                        <h2>What environments do you want to exercise in?</h2>
                        <h4>Select all that apply</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="environment" value="indoor"> Indoor Gym
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="environment" value="outdoors"> Outdoors
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="environment" value="group"> Group Class
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="environment" value="individual"> Individual Training
                            </label>
                        </div>
                    </div>

                    <!-- Question 5 -->
                    <div class="question" data-step="5">
                        <h2>What are your fitness Goals?</h2>
                        <h4>Select all that apply</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="mental"> Mental Health
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="physical"> Physical Health
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="weight"> Weight Loss
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="aesthetics"> Aesthetics
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="muscle"> Muscle Gain
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="strength"> Building Strength
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="competitive"> Competitive Training
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="goals" value="social"> Social Connections
                            </label>
                        </div>
                    </div>

                    <!-- Question 6 -->
                    <div class="question" data-step="6">
                        <h2>What areas of your body are you training?</h2>
                        <h4>Select all that apply</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="checkbox" name="body-areas" value="upper"> Upper Body
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="body-areas" value="lower"> Lower Body
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="body-areas" value="core"> Core Training
                            </label>
                            <label class="option-item">
                                <input type="checkbox" name="body-areas" value="endurance"> Endurance
                            </label>
                        </div>
                    </div>

                    <!-- Question 7 -->
                    <div class="question" data-step="7">
                        <h2>How far are you willing to Travel?</h2>
                        <h4>Select one option</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="radio" name="travel" value="2.5"> 2.5km or less
                            </label>
                            <label class="option-item">
                                <input type="radio" name="travel" value="5"> 5km
                            </label>
                            <label class="option-item">
                                <input type="radio" name="travel" value="10"> 10km
                            </label>
                            <label class="option-item">
                                <input type="radio" name="travel" value="25"> 25km
                            </label>
                            <label class="option-item">
                                <input type="radio" name="travel" value="50"> 50km
                            </label>
                            <label class="option-item">
                                <input type="radio" name="travel" value="50+"> Over 50km
                            </label>
                        </div>
                    </div>

                    <!-- Question 8 -->
                    <div class="question" data-step="8">
                        <h2>How long have you been consistently exercising?</h2>
                        <h4>Select one option</h4>
                        <div class="error-message" style="color:red; font-size:0.9em; margin-bottom:0.5em;"></div>
                        <div class="options-grid">
                            <label class="option-item">
                                <input type="radio" name="experience" value="6m"> Under 6 months
                            </label>
                            <label class="option-item">
                                <input type="radio" name="experience" value="1y"> 6 months to 1 year
                            </label>
                            <label class="option-item">
                                <input type="radio" name="experience" value="2y"> 1 year to 2 years
                            </label>
                            <label class="option-item">
                                <input type="radio" name="experience" value="5y"> 3 years to 5 years
                            </label>
                            <label class="option-item">
                                <input type="radio" name="experience" value="10y"> 6 years to 10 years
                            </label>
                            <label class="option-item">
                                <input type="radio" name="experience" value="10y+"> Over 10 years
                            </label>
                        </div>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="back-button" id="backButton" style="display: none;">Back</button>
                    <button class="next-button" id="nextButton">Next</button>
                </div>
            </section>
        </main>

        <!-- Navigation Bar -->
        <nav class="nav-bar">

            <a href="home.html" class="nav-icon" id="navHome">
                <!-- Home Icon -->
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path d="M3 10L12 3L21 10V21H14V14H10V21H3V10Z" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
              <a href="index.html" class="nav-icon" id="navMatches">
                <!-- Matches Icon -->
                <svg width="24" height="24" viewBox="0 0 24 24">
                  <path d="M 3 2 V 6 L 37 6 V 2 M 3 9 V 13 L 37 13 V 9 M 3 16 V 20 L 37 20 V 16" stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
            <a href="error.html" class="nav-icon" id="navChat">
                <!-- Chat Icon -->
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M21 15C21 16.1046 20.1046 17 19 17H6L3 20V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V15Z"
                        stroke="#333" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </a>
            <a href="profile.html" class="nav-icon current-page" id="navProfile">
                <!-- Profile Icon -->
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <circle cx="12" cy="8" r="4" stroke="#333" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M4 21C4 16.5817 7.58172 13 12 13C16.4183 13 20 16.5817 20 21H4Z" stroke="#333"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </a>
                </svg>
            </a>
        </nav>
    </div>

    <script>
    let currentStep = 1;
const totalSteps = document.querySelectorAll('.question').length;

function showStep(step) {
  document.querySelectorAll('.question').forEach(q => {
    q.classList.remove('active');
    // Clear any previous error message when showing a new step
    const errorMsg = q.querySelector('.error-message');
    if (errorMsg) {
      errorMsg.textContent = '';
    }
  });
  document.querySelector(`[data-step="${step}"]`).classList.add('active');

  // Update progress bar
  const progress = (step / totalSteps) * 100;
  document.getElementById('progressFill').style.width = `${progress}%`;

  // Toggle back button visibility
  document.getElementById('backButton').style.display = step > 1 ? 'block' : 'none';
}

document.getElementById('nextButton').addEventListener('click', () => {
  // Get the currently active question element
  const currentQuestion = document.querySelector('.question.active');
  // Check if any input within the current question is checked
  const hasSelection = currentQuestion.querySelector('input:checked');

  // Get error message container within this question
  const errorMsg = currentQuestion.querySelector('.error-message');

  if (!hasSelection) {
    errorMsg.textContent = "Please make a selection";
    return;
  } else {
    // Clear error message if selection is made
    errorMsg.textContent = "";
  }
  
  if (currentStep < totalSteps) {
    currentStep++;
    showStep(currentStep);
  } else {
    saveProfileData();
  }
});

document.getElementById('backButton').addEventListener('click', () => {
  if (currentStep > 1) {
    currentStep--;
    showStep(currentStep);
  }
});

// Add selection styling and clear error message when an option is selected
document.querySelectorAll('.option-item input').forEach(input => {
  input.addEventListener('change', () => {
    input.parentElement.classList.toggle('selected', input.checked);
    // Clear error message when an option is selected
    const currentQuestion = input.closest('.question');
    const errorMsg = currentQuestion.querySelector('.error-message');
    if (currentQuestion.querySelector('input:checked')) {
      errorMsg.textContent = "";
    }
  });
});

function saveProfileData() {
  const formData = {
    days: Array.from(document.querySelectorAll('input[name="days"]:checked')).map(cb => cb.value),
    times: Array.from(document.querySelectorAll('input[name="times"]:checked')).map(cb => cb.value),
    types: Array.from(document.querySelectorAll('input[name="types"]:checked')).map(cb => cb.value),
    environment: Array.from(document.querySelectorAll('input[name="environment"]:checked')).map(cb => cb.value),
    goals: Array.from(document.querySelectorAll('input[name="goals"]:checked')).map(cb => cb.value),
    bodyAreas: Array.from(document.querySelectorAll('input[name="body-areas"]:checked')).map(cb => cb.value),
    travel: document.querySelector('input[name="travel"]:checked')?.value || '',
    experience: document.querySelector('input[name="experience"]:checked')?.value || ''
  };

  // Save to localStorage
  localStorage.setItem('userProfile', JSON.stringify(formData));

  // Redirect to profile page
  window.location.href = 'profile.html';
}

</script>

</body>

</html>